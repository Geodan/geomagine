<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="./app-instance.html">
<script src="../cowconfigs.js"></script>
<dom-module id="instance-test">
    <template>
        <gm-cow-core id="cowcore" config="[[cowconfig]]" core="{{_cow}}"></gm-cow-core>
        <app-instance
                id="instance"
                cow="[[_cow]]"
                team="[[team]]"
                scenario="[[scenario]]"
                project_ready="{{project_ready}}"
        ></app-instance>
    </template>
</dom-module>
<script>

    Polymer({
        is: 'instance-test',
        properties: {
            project_ready: {
                type: Object,
                observer: '_waitForProject'
            }
        },
        _waitForProject: function() {
            if (this.project_ready) {
                this.project_ready.then(function(){
                    console.log('project ready');
                });
            }
        },
        ready: function() {
            this.cowconfig = window.cowconfig;
        },
        attached: function () {
            //this.instanceReady.then(function(){
            //    console.log('instance is ready');
            //});
        }
    });

</script>